## Part 1. Установка ОС
- cat /etc/issue Текущая версия ubuntu 
- ![Alt text](<Снимок экрана 2023-08-29 в 22.35.00.png>)
## Part 2. Создание пользователя
- sudo useradd test1 Вызов команды для создания пользователя 
- ![Alt text](<Снимок экрана 2023-08-29 в 22.41.13.png>)
- sudo usermod -aG adm test1 Добавление пользователя в группу 
- ![Alt text](image.png)
- cat /etc/passwd Вывод нового пользователя в выводе команды 
- ![Alt text](<Снимок экрана 2023-08-29 в 22.43.55.png>)
## Part 3. Настройка сети ОС
- 1. hostnamectl set-hostname test1-server Установка имени машины вида test1-server
- ![Alt text](image-1.png)
- hostnamectl Отображение имени машины
- ![Alt text](image-4.png)
- 2. Установить временную зону, соответствующую вашему текущему местоположению.
- timedatectl Отображение текущей даты и времени
- ![Alt text](image-2.png)
- timedatectl list-timezones | grep Moscow Поиск названия временной зоны Москвы
- ![Alt text](image-3.png)
- timedatectl set-timezone Europe/Moscow Установка Московского времени
- ![Alt text](image-5.png)
- 3. Вывести названия сетевых интерфейсов с помощью консольной команды.
- sudo apt install net-tools Установка набора сетевых инструментов 
- ![Alt text](image-6.png)
- ifconfig Вывод списка сетевых интерфейсов и информацию о них, такую как состояние, IP адрес, MAC адрес и другие параметры
- ![Alt text](image-7.png)
- lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost.
- 4. Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера.
- hostname -I Получить ip адрес устройства от DHCP сервера
- ![Alt text](image-8.png)
- DHCP (Dynamic Host Configuration Protocol) - протокол автоматической настройки сетевых параметров. Он предоставляет устройствам в компьютерных сетях IP-адреса, подсети, шлюзы, DNS-серверы и другие настройки. DHCP облегчает процесс настройки, предотвращает конфликты адресов, позволяет динамически выделять IP-адреса и управлять параметрами сети.
- 5. Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw).
- curl ifconfig.me Внешний ip адресс шлюза
- ![Alt text](image-9.png)
- ip route Внутренний ip адрес шлюза
- ![Alt text](image-10.png)
- 6. Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).
- sudo vim /etc/netplan/00-installer-config.yaml Открытие файла для ручной установки
- было
- ![Alt text](image-11.png)
- стало
- ![Alt text](image-12.png)
- sudo netplan apply Применили изменения
- ![Alt text](image-13.png)
- 7. Перезагрузить виртуальную машину. Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.
- reboot Перезагрузили 
- ifconfig проверяем что адреса соответствуют заданным
- ![Alt text](image-15.png)
- ping 1.1.1.1 и ping ya.ru Проверяем усспешно ли пропингуются удаленные хосты 1.1.1.1 и ya.ru
- ![Alt text](image-14.png)
## Part 4. Обновление ОС
- sudo apt update Получить пакеты для обновления. sudo apt upgrade Обновить системные пакеты до последней на момент выполнения задания версии. reboot Перезагрузить после обновления.
- ![Alt text](image-16.png)
## Part 5. Использование команды sudo
- sudo usermod -aG sudo test1 Разрешить пользователю, созданному в Part 2, выполнять команду sudo.
- ![Alt text](image-18.png)
- getent group sudo Посмотреть список группы sudo
- ![Alt text](image-17.png)
- В отчёте объяснить истинное назначение команды sudo
- sudo - Основное назначение sudo состоит в том, чтобы предоставить временный и контролируемый доступ к выполнению команд, которые обычно требуют прав администратора. Это помогает уменьшить риск непреднамеренных или вредоносных действий, которые могли бы произойти, если бы пользователь всегда работал с полными правами суперпользователя. По умолчанию, при установке Ubuntu первому пользователю (тому, который создаётся во время установки) предоставляются полные права на использование sudo. Т.е. фактически первый пользователь обладает той же свободой действий, что и root.
- Поменять hostname ОС от имени пользователя, созданного в пункте Part 2 (используя sudo).
- su test1 Меняем пользователя на test1
- ![Alt text](image-19.png)
- cat /etc/hostname Просмотр текущего имени хоста
- sudo hostnamectl set-hostname test2-server Смена имени хоста
- ![Alt text](image-20.png)
## Part 6. Установка и настройка службы времени
- Настроить службу автоматической синхронизации времени.
- timedatectl Вывести время, часового пояса, в котором вы сейчас находитесь.
- timedatectl show Предоставляет обзор текущих настроек даты и времени на вашем компьютере
- ![Alt text](image-21.png)
## Part 7. Установка и использование текстовых редакторов
- Установить текстовые редакторы VIM (+ любые два по желанию NANO, MCEDIT, JOE и т.д.)
- sudo apt install vim Установка VIM
- ![Alt text](image-22.png)
- sudo apt install nano Установка Nano
- ![Alt text](image-23.png)
- sudo apt install mcedit Установка Mcedit
- ![Alt text](image-24.png)
- Используя каждый из трех выбранных редакторов, создайте файл test_X.txt, где X -- название редактора, в котором создан файл. Напишите в нём свой никнейм, закройте файл с сохранением изменений.
- VIM
- vim test_vim.txt Создать файл с именем test_vim.txt
- i Режим редактировани
- esc Выйти из режима редактирования
- :wq Выход с сохранением изменений
- ![Alt text](image-25.png)
- NANO
- nano test_nano.txt Создать файл с именем test_nano.txt
- ctrl + x, затем Y и Enter Выйти с сохранением изменений
- ![Alt text](image-26.png)
- MCEDIT
- mcedit test_mcedit.txt Создать файл с именем test_mcedit.txt
- F2 "сохранить" Сохранить файл
- F10 Выйти из файла
- ![Alt text](image-27.png)
- Используя каждый из трех выбранных редакторов, откройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений.
- VIM
- :q! Выйти без сохранения
- ![Alt text](image-28.png)
- NANO
- ctrl + x, затем N и Enter Выйти без сохранения изменений
- ![Alt text](image-29.png)
- MCEDIT
- F10 "нет" Выйти из файла без сохранения
- ![Alt text](image-30.png)
- Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое.
- VIM
- / Поиск слова
- ![Alt text](image-33.png)
- s/слово1/слово2 Замена слово1 на слово2
- ![Alt text](image-36.png)
- NANO
- ctrl + w Поиск слова
- ![Alt text](image-34.png)
- ctrl + \ Замена слов на другое
- ![Alt text](image-35.png)
- MCEDIT
- F7 Поиск слова
- ![Alt text](image-31.png)
- F4 "дальше" Замена слова на другое
- ![Alt text](image-32.png)
## Part 8. Установка и базовая настройка сервиса SSHD
- 1. Установить службу SSHd.
- sudo apt-get install ssh Команда устанавливает клиентский компонент SSH на вашем компьютере
- sudo apt install openssh-server Команда устанавливает серверный компонент OpenSSH на вашем компьютере
- ![Alt text](image-38.png)
- 2. Добавить автостарт службы при загрузке системы.
- sudo systemctl enable ssh Команда активирует автоматический запуск службы SSH при загрузке операционной системы
- systemctl status ssh Команда показывает текущий статус службы SSH
- ![Alt text](image-37.png)
- 3. Перенастроить службу SSHd на порт 2022.
- sudo vim /etc/ssh/sshd_config Перенастройка порта путем раскомментирования порта
- ![Alt text](image-40.png)
- 4. Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи. В отчёте объяснить значение команды и каждого ключа в ней.
- ps -e | grep sshd Используется для поиска всех процессов, связанных с SSH-сервером (демоном SSH) в списке активных процессов вашей системы
- ps (показывает запущенные процессы, выполняемые пользователем в окне терминала);
- ps -e или ps -A (Чтобы просмотреть все запущенные процессы);
- ps -d (Чтобы показать все процессы, кроме лидеров сессии);
- ps -d -N (можно инвертировать вывод с помощью переключателя -N. Например, если хочу вывести только лидеров сеансов)
- ps T (увидеть только процессы, связанные с этим терминалом);
- ps r (просмотреть все работающие (running) процессы);
- ps -p 'pid' (если вы знаете идентификатор процесса PID, вы можете просто использовать следующую команду, для вывода процесса с этим 'pid');
- ps -p 'pid1' 'pid2'
- ps U 'userlist' (найти все процессы, выполняемые конкретным пользователем);
- ps -ef (получить полный список);
- ![Alt text](image-39.png)
- 5. Перезагрузить систему.
- systemctl restart sshd Перезапуск службы ssh
- netstat -tan Oтображает список активных сетевых подключений и слушающих портов на вашем компьютере
- -t (--tcp) отображает соедниеня только по tcp
- -a (--all) вывод всех активных подключений TCP
- -n (--numeric) вывод активных подключений TCP с отображением адресов и номеров портов в числовом формате
- Proto: Название протокола (протокол TCP или протокол UDP);
- recv-Q: очередь получения сети
- send-Q: Сетевая очередь отправки
- Local Address адрес локального компьтера и используемы номер порта
- Foreign Address адрес и номер удаленного компьтера к которомц подключен сокет
- State состояние сокетoв
- 0.0.0.0 означает IP-адрес на локальной машине
- ![Alt text](image-41.png)
## Part 9. Установка и использование утилит top, htop
- Установить и запустить утилиты top и htop.
- sudo apt install htop Установка htop
- ![Alt text](image-43.png)
- top Запуск top
- ![Alt text](image-44.png)
- По выводу команды top определить и написать в отчёте:
- uptime 1:14
- количество авторизованных пользователей 1 
- общую загрузку системы 0,00 0,00 0,00
- общее количество процессов 103
- загрузку cpu 0
- загрузку памяти 1967,3
- pid процесса занимающего больше всего памяти 1025
- ![Alt text](image-42.png)
- pid процесса, занимающего больше всего процессорного времени 419
- ![Alt text](image-45.png)
- В отчёт вставить скрин с выводом команды htop:
- отсортированному по PID
- ![Alt text](image-46.png)
- отсортированному по PERCENT_CPU
- ![Alt text](image-47.png)
- отсортированному по PERCENT_MEM
- ![Alt text](image-48.png)
- отсортированному по TIME
- ![Alt text](image-49.png)
- отфильтрованному для процесса sshd
- ![Alt text](image-50.png)
- с процессом syslog, найденным, используя поиск
- ![Alt text](image-51.png)
- с добавленным выводом hostname, clock и uptime
- ![Alt text](image-52.png)
## Part 10. Использование утилиты fdisk
- Запустить команду fdisk -l.
- ![Alt text](image-53.png)
- В отчёте написать:
- название жесткого диска Ubuntu Linux-O S
- размер 8 GiB
- количество секторов 16777216
- ![Alt text](image-54.png)
- размер swap
- $ sudo fallocate -l 2G /swapfile создает файл подкачки размером 2 гигабайта в корневом каталоге системы
- $ sudo chmod 600 /swapfile изменяет права доступа к swap-файлу, ограничивая доступ только для пользователя root (администратора системы)
- $ ls -lh /swapfile выводит информацию о размере созданного swap-файла.
- $ sudo mkswap /swapfile создает область подкачки внутри swap-файла.
- $ sudo swapon /swapfile активирует swap-файл, включая его в систему как дополнительное пространство подкачки.
- $ swapon --show показывает текущие детали по активированной подкачке
- ![Alt text](image-55.png)
## Part 11. Использование утилиты df
- Запустить команду df.
- df -h вывод информации в читаемом формате
- В отчёте написать для корневого раздела (/):
- размер раздела 5,6G
- размер занятого пространства 5,0G
- размер свободного пространства 322M
- процент использования 95%
- ![Alt text](image-56.png)
- Запустить команду df -Th.
- В отчёте написать для корневого раздела (/):
- размер раздела 5,6G
- размер занятого пространства 5,0G
- размер свободного пространства 322M
- процент использования 95%
- ext4 тип файловой системы для раздела.
- ![Alt text](image-57.png)
## Part 12. Использование утилиты du
- Запустить команду du.
- du -h вывод информации в читаемом формате
- ![Alt text](image-58.png)
- Вывести размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
- sudo du -sh /var в человекочитаемом виде
- ![Alt text](image-59.png)
- sudo du -s --block-size=1 /var в байтах 
- ![Alt text](image-63.png)
- sudo du -sh /home в человекочитаемом виде
- ![Alt text](image-60.png)
- sudo du -s --block-size=1 /home в байтах 
- ![Alt text](image-64.png)
- sudo du -sh /var/log в человекочитаемом виде
- ![Alt text](image-61.png)
- sudo du -s --block-size=1 /var/log в байтах 
- ![Alt text](image-62.png)
- Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
- sudo du -h /var Вывести размер всего содержимого
- ![Alt text](image-65.png)
- sudo du -h /home Вывести размер всего содержимого
- ![Alt text](image-67.png)
- sudo du -h /var/log Вывести размер всего содержимого
- ![Alt text](image-66.png)
## Part 13. Установка и использование утилиты ncdu
- sudo apt install ncdu Установить утилиту ncdu.
- ![Alt text](image-68.png)
- Вывести размер папок /home, /var, /var/log.
- ncdu /var Вывести размер папки var
- ![Alt text](image-69.png)
- ncdu /home Вывести размер папки home
- ![Alt text](image-70.png)
- ncdu /var/log Вывести размер папки /var/log
- ![Alt text](image-71.png)
## Part 14. Работа с системными журналами
- Открыть для просмотра:
- 1. sudo vim /var/log/dmesg открытие лога в vim
- ![Alt text](image-72.png)
- 2. sudo vim /var/log/syslog открытие лога в vim
- ![Alt text](image-73.png)
- 3. sudo vim /var/log/auth.log открытие лога в vim
- ![Alt text](image-75.png)
- Написать в отчёте:
- время последней успешной авторизации Август 17:32:54
- имя пользователя cindaeve
- метод входа в систему pam_unix
![Alt text](image-76.png)
- sudo systemctl restart ssh Перезапустить службу SSHd
- ![Alt text](image-77.png)
- Вставить в отчёт скрин с сообщением о рестарте службы (искать в логах).
- ![Alt text](image-78.png)
## Part 15. Использование планировщика заданий CRON
- sudo crontab -e Открыть программу CRON
- Используя планировщик заданий, запустите команду uptime через каждые 2 минуты.
- ![Alt text](image-79.png)
- Найти в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении.
- ![Alt text](image-80.png)
- sudo crontab -l Вывести на экран список текущих заданий для CRON.
- ![Alt text](image-81.png)
- sudo crtontab -r Удалите все задания из планировщика заданий.
- sudo crontab -l Вывести на экран список текущих заданий для CRON.
- ![Alt text](image-82.png)
